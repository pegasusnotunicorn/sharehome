{"ast":null,"code":"import { useState, useEffect, useReducer } from 'react'; //function to use window.localStorage for react states\n\nexport function useStickyState(defaultValue, key) {\n  const [value, setValue] = useState(() => {\n    const stickyValue = window.localStorage.getItem(key);\n    return stickyValue !== null ? JSON.parse(stickyValue) : defaultValue;\n  });\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n  return [value, setValue];\n}\nexport function useStickyReducer(reducer, defaultState, storageKey, init = null) {\n  const hookVars = useReducer(reducer, defaultState, defaultState => {\n    const persisted = JSON.parse(localStorage.getItem(storageKey));\n    return persisted !== null ? persisted : init !== null ? init(defaultState) : defaultState;\n  });\n  useEffect(() => {\n    localStorage.setItem(storageKey, JSON.stringify(hookVars[0]));\n  }, [storageKey, hookVars[0]]);\n  return hookVars;\n}","map":{"version":3,"sources":["/Users/1min/Documents/sharehome/src/components/Designer/utils/stickyHooks.js"],"names":["useState","useEffect","useReducer","useStickyState","defaultValue","key","value","setValue","stickyValue","window","localStorage","getItem","JSON","parse","setItem","stringify","useStickyReducer","reducer","defaultState","storageKey","init","hookVars","persisted"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,UAA9B,QAAgD,OAAhD,C,CAEA;;AACA,OAAO,SAASC,cAAT,CAAwBC,YAAxB,EAAsCC,GAAtC,EAA2C;AAChD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,MAAM;AACvC,UAAMQ,WAAW,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BN,GAA5B,CAApB;AACA,WAAOG,WAAW,KAAK,IAAhB,GACHI,IAAI,CAACC,KAAL,CAAWL,WAAX,CADG,GAEHJ,YAFJ;AAGD,GALiC,CAAlC;AAOAH,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4BT,GAA5B,EAAiCO,IAAI,CAACG,SAAL,CAAeT,KAAf,CAAjC;AACD,GAFQ,EAEN,CAACD,GAAD,EAAMC,KAAN,CAFM,CAAT;AAGA,SAAO,CAACA,KAAD,EAAQC,QAAR,CAAP;AACD;AAED,OAAO,SAASS,gBAAT,CAA0BC,OAA1B,EAAmCC,YAAnC,EAAiDC,UAAjD,EAA6DC,IAAI,GAAG,IAApE,EAA0E;AAC/E,QAAMC,QAAQ,GAAGnB,UAAU,CAACe,OAAD,EAAUC,YAAV,EAAyBA,YAAD,IAAkB;AACnE,UAAMI,SAAS,GAAGV,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqBQ,UAArB,CAAX,CAAlB;AACA,WAAOG,SAAS,KAAK,IAAd,GACHA,SADG,GAEHF,IAAI,KAAK,IAAT,GAAgBA,IAAI,CAACF,YAAD,CAApB,GAAqCA,YAFzC;AAGD,GAL0B,CAA3B;AAOAjB,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,YAAY,CAACI,OAAb,CAAqBK,UAArB,EAAiCP,IAAI,CAACG,SAAL,CAAeM,QAAQ,CAAC,CAAD,CAAvB,CAAjC;AACD,GAFQ,EAEN,CAACF,UAAD,EAAaE,QAAQ,CAAC,CAAD,CAArB,CAFM,CAAT;AAIA,SAAOA,QAAP;AACD","sourcesContent":["import { useState, useEffect, useReducer } from 'react';\n\n//function to use window.localStorage for react states\nexport function useStickyState(defaultValue, key) {\n  const [value, setValue] = useState(() => {\n    const stickyValue = window.localStorage.getItem(key);\n    return stickyValue !== null\n      ? JSON.parse(stickyValue)\n      : defaultValue;\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n  return [value, setValue];\n}\n\nexport function useStickyReducer(reducer, defaultState, storageKey, init = null) {\n  const hookVars = useReducer(reducer, defaultState, (defaultState) => {\n    const persisted = JSON.parse(localStorage.getItem(storageKey))\n    return persisted !== null\n      ? persisted\n      : init !== null ? init(defaultState) : defaultState\n  })\n\n  useEffect(() => {\n    localStorage.setItem(storageKey, JSON.stringify(hookVars[0]))\n  }, [storageKey, hookVars[0]])\n\n  return hookVars\n}\n"]},"metadata":{},"sourceType":"module"}