{"ast":null,"code":"var _jsxFileName = \"/Users/1min/Documents/sharehome/src/components/DeckEditor/DeckEditorWrapper.js\";\nimport React, { useState, useReducer } from 'react'; //custom files\n\nimport CardEditorWrapper from '../CardEditor/CardEditorWrapper.js';\nimport * as CardConstants from '../CardEditor/CardConstants.js'; //reducer to change state in react\n//to add a new card use dispatch({ type: 'add', item: movie })\n//to remove an existing card use dispatch({ type: 'remove', index })\n//to update an existing card use dispatch({ type: 'update', index, value, property })\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'add':\n      return [...state, action.card];\n\n    case 'remove':\n      return state.filter((item, index) => {\n        //remove item at index\n        if (index === action.index) {\n          return false;\n        } // //remove item with property with value\n        // else if (item[action.property] === action.value){\n        //   return false;\n        // }\n        //every other item stays\n\n\n        return true;\n      });\n\n    case 'update':\n      return state.map((item, index) => {\n        //replace the item at index\n        if (index === action.index) {\n          return action.card;\n        } //leave every other item unchanged\n\n\n        return item;\n      });\n\n    case 'reset':\n      return [action.card];\n\n    default:\n      throw new Error();\n  }\n} //wrapper for card editor section (including input + PDF)\n\n\nlet currentIndex = 0;\nlet currentCard = CardConstants.getDefaultCardObject();\n\nfunction DeckEditorWrapper() {\n  const [cards, dispatch] = useReducer(reducer, [currentCard]);\n  const [, updateState] = React.useState();\n  const forceUpdate = React.useCallback(() => updateState({}), []); //updates the current card and updates it in the cards array\n\n  const updateCurrentCard = card => {\n    currentCard = card;\n    dispatch({\n      type: 'update',\n      index: currentIndex,\n      card: currentCard\n    }); //if i want to implement an undo, i have access to what the card WAS here\n    //just need to keep this in an array and access it whenever\n    // console.log(cards[currentIndex]);\n  }; //deletes all cards and resets index to 0\n\n\n  const resetAllCards = () => {\n    currentIndex = 0;\n    currentCard = CardConstants.getDefaultCardObject();\n    dispatch({\n      type: 'reset',\n      card: currentCard\n    });\n  }; //adds a new card and sets the index to last\n\n\n  const addNewCard = () => {\n    currentIndex++;\n    currentCard = CardConstants.getDefaultCardObject();\n    dispatch({\n      type: 'add',\n      card: currentCard\n    });\n  }; //deletes the current card and sets the index to last\n\n\n  const removeCurrentCard = () => {\n    currentIndex--; //if there are no more cards left, just reset\n\n    if (currentIndex < 0) {\n      resetAllCards();\n    } else {\n      currentCard = cards[currentIndex];\n      dispatch({\n        type: 'remove',\n        index: currentIndex\n      });\n    }\n  };\n\n  const goToCard = cardIndex => {\n    currentIndex = cardIndex;\n    currentCard = cards[cardIndex];\n    forceUpdate();\n  };\n\n  const listOfCards = cards.map((step, move) => {\n    const desc = 'Go to card #' + (move + 1);\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: \"card\" + move,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => goToCard(move),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, desc));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardEditorWrapper, {\n    currentCard: currentCard,\n    setCurrentCard: updateCurrentCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: resetAllCards,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, \"Reset All\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addNewCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, \"Add New Card\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: removeCurrentCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, \"Remove Current Card\"), /*#__PURE__*/React.createElement(\"ol\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, listOfCards), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, \"Dev tools\", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      console.log(currentCard);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, \"Log current card\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      console.log(currentIndex);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, \"Log current index\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      console.log(cards);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, \"Log cards\")));\n}\n\nexport default DeckEditorWrapper;","map":{"version":3,"sources":["/Users/1min/Documents/sharehome/src/components/DeckEditor/DeckEditorWrapper.js"],"names":["React","useState","useReducer","CardEditorWrapper","CardConstants","reducer","state","action","type","card","filter","item","index","map","Error","currentIndex","currentCard","getDefaultCardObject","DeckEditorWrapper","cards","dispatch","updateState","forceUpdate","useCallback","updateCurrentCard","resetAllCards","addNewCard","removeCurrentCard","goToCard","cardIndex","listOfCards","step","move","desc","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useReducer } from 'react';\n\n//custom files\nimport CardEditorWrapper from '../CardEditor/CardEditorWrapper.js';\nimport * as CardConstants from '../CardEditor/CardConstants.js';\n\n//reducer to change state in react\n//to add a new card use dispatch({ type: 'add', item: movie })\n//to remove an existing card use dispatch({ type: 'remove', index })\n//to update an existing card use dispatch({ type: 'update', index, value, property })\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'add':\n      return [...state, action.card];\n    case 'remove':\n      return state.filter((item, index) => {\n        //remove item at index\n        if(index === action.index) {\n          return false;\n        }\n        // //remove item with property with value\n        // else if (item[action.property] === action.value){\n        //   return false;\n        // }\n        //every other item stays\n        return true;\n      });\n    case 'update':\n      return state.map((item, index) => {\n        //replace the item at index\n        if(index === action.index) {\n          return action.card;\n        }\n        //leave every other item unchanged\n        return item;\n      });\n    case 'reset':\n      return [action.card];\n    default:\n      throw new Error();\n  }\n}\n\n//wrapper for card editor section (including input + PDF)\nlet currentIndex = 0;\nlet currentCard = CardConstants.getDefaultCardObject();\nfunction DeckEditorWrapper(){\n  const [cards, dispatch] = useReducer(reducer, [currentCard]);\n  const [, updateState] = React.useState();\n  const forceUpdate = React.useCallback(() => updateState({}), []);\n\n  //updates the current card and updates it in the cards array\n  const updateCurrentCard = (card) => {\n    currentCard = card;\n    dispatch({\n      type: 'update',\n      index: currentIndex,\n      card: currentCard\n    });\n\n    //if i want to implement an undo, i have access to what the card WAS here\n    //just need to keep this in an array and access it whenever\n    // console.log(cards[currentIndex]);\n  }\n\n  //deletes all cards and resets index to 0\n  const resetAllCards = () => {\n    currentIndex = 0;\n    currentCard = CardConstants.getDefaultCardObject();\n    dispatch({\n      type: 'reset',\n      card: currentCard\n    });\n  }\n\n  //adds a new card and sets the index to last\n  const addNewCard = () => {\n    currentIndex++;\n    currentCard = CardConstants.getDefaultCardObject();\n    dispatch({\n      type: 'add',\n      card: currentCard\n    });\n  }\n\n  //deletes the current card and sets the index to last\n  const removeCurrentCard = () => {\n    currentIndex--;\n    //if there are no more cards left, just reset\n    if (currentIndex < 0){\n      resetAllCards();\n    }\n    else {\n      currentCard = cards[currentIndex];\n      dispatch({\n        type: 'remove',\n        index: currentIndex\n      });\n    }\n  }\n\n  const goToCard = (cardIndex) => {\n    currentIndex = cardIndex;\n    currentCard = cards[cardIndex];\n    forceUpdate();\n  }\n\n  const listOfCards = cards.map((step, move) => {\n    const desc = 'Go to card #' + (move + 1);\n    return (\n      <li key={\"card\"+move}>\n        <button onClick={() => goToCard(move)}>{desc}</button>\n      </li>\n    );\n  });\n\n  return (\n    <div>\n      <CardEditorWrapper\n        currentCard={currentCard}\n        setCurrentCard={updateCurrentCard}\n      />\n      <button onClick={resetAllCards}>Reset All</button>\n      <button onClick={addNewCard}>Add New Card</button>\n      <button onClick={removeCurrentCard}>Remove Current Card</button>\n      <ol>\n        {listOfCards}\n      </ol>\n      <div>\n        Dev tools\n        <button onClick={()=>{console.log(currentCard)}}>Log current card</button>\n        <button onClick={()=>{console.log(currentIndex)}}>Log current index</button>\n        <button onClick={()=>{console.log(cards)}}>Log cards</button>\n        </div>\n    </div>\n  );\n}\n\nexport default DeckEditorWrapper;\n"]},"metadata":{},"sourceType":"module"}