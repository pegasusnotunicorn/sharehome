{"ast":null,"code":"import _slicedToArray from\"/Users/1min/Documents/sharehome/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect,useReducer}from'react';//function to use window.localStorage for react states\nexport function useStickyState(defaultValue,key){var _useState=useState(function(){var stickyValue=window.localStorage.getItem(key);return stickyValue!==null?JSON.parse(stickyValue):defaultValue;}),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];useEffect(function(){window.localStorage.setItem(key,JSON.stringify(value));},[key,value]);return[value,setValue];}export function useStickyReducer(reducer,defaultState,storageKey){var init=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var hookVars=useReducer(reducer,defaultState,function(defaultState){var persisted=JSON.parse(localStorage.getItem(storageKey));return persisted!==null?persisted:init!==null?init(defaultState):defaultState;});useEffect(function(){localStorage.setItem(storageKey,JSON.stringify(hookVars[0]));},[storageKey,hookVars]);return hookVars;}","map":{"version":3,"sources":["/Users/1min/Documents/sharehome/src/components/Designer/utils/stickyHooks.js"],"names":["useState","useEffect","useReducer","useStickyState","defaultValue","key","stickyValue","window","localStorage","getItem","JSON","parse","value","setValue","setItem","stringify","useStickyReducer","reducer","defaultState","storageKey","init","hookVars","persisted"],"mappings":"sJAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,UAA9B,KAAgD,OAAhD,CAEA;AACA,MAAO,SAASC,CAAAA,cAAT,CAAwBC,YAAxB,CAAsCC,GAAtC,CAA2C,eACtBL,QAAQ,CAAC,UAAM,CACvC,GAAMM,CAAAA,WAAW,CAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BJ,GAA5B,CAApB,CACA,MAAOC,CAAAA,WAAW,GAAK,IAAhB,CACHI,IAAI,CAACC,KAAL,CAAWL,WAAX,CADG,CAEHF,YAFJ,CAGD,CALiC,CADc,wCACzCQ,KADyC,eAClCC,QADkC,eAQhDZ,SAAS,CAAC,UAAM,CACdM,MAAM,CAACC,YAAP,CAAoBM,OAApB,CAA4BT,GAA5B,CAAiCK,IAAI,CAACK,SAAL,CAAeH,KAAf,CAAjC,EACD,CAFQ,CAEN,CAACP,GAAD,CAAMO,KAAN,CAFM,CAAT,CAGA,MAAO,CAACA,KAAD,CAAQC,QAAR,CAAP,CACD,CAED,MAAO,SAASG,CAAAA,gBAAT,CAA0BC,OAA1B,CAAmCC,YAAnC,CAAiDC,UAAjD,CAA0E,IAAbC,CAAAA,IAAa,2DAAN,IAAM,CAC/E,GAAMC,CAAAA,QAAQ,CAAGnB,UAAU,CAACe,OAAD,CAAUC,YAAV,CAAwB,SAACA,YAAD,CAAkB,CACnE,GAAMI,CAAAA,SAAS,CAAGZ,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqBU,UAArB,CAAX,CAAlB,CACA,MAAOG,CAAAA,SAAS,GAAK,IAAd,CACHA,SADG,CAEHF,IAAI,GAAK,IAAT,CAAgBA,IAAI,CAACF,YAAD,CAApB,CAAqCA,YAFzC,CAGD,CAL0B,CAA3B,CAOAjB,SAAS,CAAC,UAAM,CACdO,YAAY,CAACM,OAAb,CAAqBK,UAArB,CAAiCT,IAAI,CAACK,SAAL,CAAeM,QAAQ,CAAC,CAAD,CAAvB,CAAjC,EACD,CAFQ,CAEN,CAACF,UAAD,CAAaE,QAAb,CAFM,CAAT,CAIA,MAAOA,CAAAA,QAAP,CACD","sourcesContent":["import { useState, useEffect, useReducer } from 'react';\n\n//function to use window.localStorage for react states\nexport function useStickyState(defaultValue, key) {\n  const [value, setValue] = useState(() => {\n    const stickyValue = window.localStorage.getItem(key);\n    return stickyValue !== null\n      ? JSON.parse(stickyValue)\n      : defaultValue;\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n  return [value, setValue];\n}\n\nexport function useStickyReducer(reducer, defaultState, storageKey, init = null) {\n  const hookVars = useReducer(reducer, defaultState, (defaultState) => {\n    const persisted = JSON.parse(localStorage.getItem(storageKey))\n    return persisted !== null\n      ? persisted\n      : init !== null ? init(defaultState) : defaultState\n  });\n\n  useEffect(() => {\n    localStorage.setItem(storageKey, JSON.stringify(hookVars[0]))\n  }, [storageKey, hookVars])\n\n  return hookVars\n}\n"]},"metadata":{},"sourceType":"module"}